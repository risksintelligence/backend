#!/usr/bin/env python3
"""
Train ML Models for Supply Chain Risk Analysis

This script trains all ML models using the synthetic training data
generated by the generate_synthetic_training_data.py script.
"""

import sys
from pathlib import Path

# Add the app directory to Python path
sys.path.insert(0, str(Path(__file__).parent.parent))

from app.ml.supply_chain_models import SupplyChainMLPipeline

def main():
    """Train all ML models with synthetic data."""
    print("ğŸ”„ Starting ML model training...")
    
    # Create ML pipeline
    pipeline = SupplyChainMLPipeline()
    
    # Train all models (force retrain to use new synthetic data)
    print("\nğŸ“Š Training all supply chain ML models...")
    results = pipeline.train_all_models(force_retrain=True)
    
    # Display results
    print("\nâœ… ML Model Training Complete!")
    print("ğŸ“‹ Training Results:")
    
    for model_name, metadata in results.items():
        if metadata:
            print(f"   - {model_name}:")
            print(f"     â€¢ Training data size: {metadata.training_data_size}")
            print(f"     â€¢ Trained at: {metadata.trained_at}")
            print(f"     â€¢ Version: {metadata.version}")
            if metadata.performance_metrics:
                for metric, value in metadata.performance_metrics.items():
                    print(f"     â€¢ {metric}: {value:.3f}")
        else:
            print(f"   - {model_name}: âŒ Training failed")
    
    print("\nğŸ¯ Models are now ready for ML predictions!")

if __name__ == "__main__":
    main()